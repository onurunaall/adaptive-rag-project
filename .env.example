# =============================================================================
# InsightEngine - Adaptive RAG Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env file to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# LLM Provider API Keys
# -----------------------------------------------------------------------------

# OpenAI API Key (required if using OpenAI as LLM provider)
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Google AI API Key (required if using Google Gemini as LLM provider)
# Get your key from: https://ai.google.dev/
GOOGLE_API_KEY=your-google-api-key-here

# Tavily API Key (required for web search functionality)
# Get your key from: https://tavily.com/
TAVILY_API_KEY=tvly-your-tavily-api-key-here

# -----------------------------------------------------------------------------
# LLM Configuration
# -----------------------------------------------------------------------------

# LLM Provider: openai, ollama, or google
LLM_PROVIDER=openai

# Model name based on provider:
# - OpenAI: gpt-4, gpt-4-turbo, gpt-3.5-turbo
# - Google: gemini-pro, gemini-1.5-pro
# - Ollama: llama3, mistral, etc.
LLM_MODEL_NAME=gpt-4

# Temperature for LLM responses (0.0 = deterministic, 1.0 = creative)
TEMPERATURE=0.0

# -----------------------------------------------------------------------------
# Embedding Configuration
# -----------------------------------------------------------------------------

# Embedding Provider: openai, gpt4all, or google
EMBEDDING_PROVIDER=openai

# Embedding model name:
# - OpenAI: text-embedding-3-small, text-embedding-3-large, text-embedding-ada-002
# - Google: models/embedding-001
# - GPT4All: all-MiniLM-L6-v2
EMBEDDING_MODEL_NAME=text-embedding-3-small

# -----------------------------------------------------------------------------
# RAG Engine Configuration
# -----------------------------------------------------------------------------

# Default collection name for vector store
DEFAULT_COLLECTION_NAME=default_collection

# Enable hybrid search (combines semantic + keyword search)
ENABLE_HYBRID_SEARCH=true

# Enable advanced grounding checks for answer verification
ENABLE_ADVANCED_GROUNDING=true

# Maximum number of grounding check attempts
MAX_GROUNDING_ATTEMPTS=5

# Number of documents to retrieve (k parameter)
RETRIEVAL_K=10

# Similarity score threshold for filtering results
SIMILARITY_SCORE_THRESHOLD=0.0

# -----------------------------------------------------------------------------
# Agent Configuration
# -----------------------------------------------------------------------------

# Enable Python REPL for agent code execution (SECURITY RISK - keep false in production)
ENABLE_PYTHON_REPL_BY_DEFAULT=false

# Maximum agent loop iterations
MAX_AGENT_ITERATIONS=10

# Agent verbose mode (detailed logging)
AGENT_VERBOSE=true

# -----------------------------------------------------------------------------
# Text Processing Configuration
# -----------------------------------------------------------------------------

# Chunking strategy: adaptive, semantic, hybrid, or default
CHUNKING_STRATEGY=adaptive

# Text splitter type: recursive, markdown, python, html
TEXT_SPLITTER_TYPE=recursive

# Chunk size in tokens
CHUNK_SIZE=1000

# Chunk overlap in tokens
CHUNK_OVERLAP=200

# -----------------------------------------------------------------------------
# Advanced Settings
# -----------------------------------------------------------------------------

# Enable caching for LLM responses
ENABLE_CACHE=true

# Cache TTL in seconds (default: 300 = 5 minutes)
CACHE_TTL=300

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# MCP (Model Context Protocol) Configuration
# -----------------------------------------------------------------------------

# Enable MCP servers by default
MCP_ENABLED=true

# Enable filesystem MCP server
MCP_FILESYSTEM_ENABLED=true

# Enable memory/conversation MCP server
MCP_MEMORY_ENABLED=true

# Enable SQL database MCP server
MCP_SQL_ENABLED=true

# Enable analytics MCP server
MCP_ANALYTICS_ENABLED=true

# -----------------------------------------------------------------------------
# Database Configuration (for SQL MCP server)
# -----------------------------------------------------------------------------

# Database path for SQL MCP server
SQL_DB_PATH=./mcp_data/rag_data.db

# Memory storage path for conversation memory
MEMORY_STORAGE_PATH=./mcp_data/memory_storage

# -----------------------------------------------------------------------------
# Storage Paths
# -----------------------------------------------------------------------------

# ChromaDB persistent storage directory
CHROMA_STORAGE_PATH=./chroma_storage

# Logs directory
LOGS_PATH=./logs

# MCP data directory
MCP_DATA_PATH=./mcp_data
